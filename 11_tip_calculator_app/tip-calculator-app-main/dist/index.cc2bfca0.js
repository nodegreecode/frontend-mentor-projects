let t={bill:{},isActive:!1,errors:{},results:{}};const s=function(t){r(t)},e=function(t){let s={bill:{bill:0,tips:0,customTips:0,persons:0},errors:{},isActive:!1};for(let[e,r]of Object.entries({bill:/^[1-9]\d*(\.\d{2})?$/,persons:/^[1-9]\d*?$/,customTips:/^[1-9]\d*?$/}))"customTips"!==e||t.customTips?s.errors[`${e}InputIsValid`]=r.test(t[e]):s.errors[`${e}InputIsValid`]=!0;return Object.values(s.errors).some(t=>!t)||(s.isActive=!0,s.bill={bill:t.bill,tips:t.tips,customTips:t.customTips,persons:t.persons}),s},r=function(s){t=s},i=function(s){let e={tipsPerson:"0.00",totalTips:"0.00",totalPerson:"0.00"};for(let r in s.errors)if(!s.errors[r]){t.results=e;return}let{bill:r,customTips:i,persons:l,tips:n}=s.bill,o=n>i?n:i;if(r>0&&o>0&&l>0){let t=r*o/100;e.totalTips=+t.toFixed(2),e.totalPerson=+((r+t)/l).toFixed(2),e.tipsPerson=+(t/l).toFixed(2)}t.results=e},l=function(t){r(e(t))};class n{_tipsInputs=document.querySelectorAll(".tip-calculator__tips");_customTipsInput=document.getElementById("option6")}class o extends n{_billInput=document.getElementById("bill");_personsInput=document.getElementById("people");_billErrorMessage=document.querySelector(".error-message--bill");_personsErrorMessage=document.querySelector(".error-message--people");_inputData={};constructor(){super()}clearInputs(){this._billInput.value="",this._customTipsInput.value="",this._personsInput.value=""}_toggleError(t,s,e){t?(s.classList.remove("invalid"),e?.classList.remove("error")):(s.classList.add("invalid"),e?.classList.add("error"))}showError(t){for(let s in t)"billInputIsValid"===s?this._toggleError(t[s],this._billInput,this._billErrorMessage):"customTipsInputIsValid"===s?this._toggleError(t[s],this._customTipsInput,this._personsErrorMessage):"personsInputIsValid"===s&&this._toggleError(t[s],this._personsInput,this._personsErrorMessage)}_getBillData(t){let s=parseFloat(this._billInput.value)||0,e=parseInt(t),r=parseInt(this._customTipsInput?.value)||0,i=parseInt(this._personsInput.value)||0;return this._inputData={bill:s,tips:e,customTips:r,persons:i},this._inputData}addHandlerBillData(t){this._tipsInputs.forEach(s=>{s.addEventListener("click",s=>{t(this._getBillData(s.target.value))})})}addHandlerBillDataCustomTips(t){this._customTipsInput.addEventListener("input",s=>{t(this._getBillData(0))})}}var u=new o;class a extends n{_tipAmountPerPerson=document.getElementById("tip-amount");_totalAmountPerPerson=document.getElementById("total-per-person");_resetButton=document.getElementById("reset-button");constructor(){super(),this._clearResults()}_clearResults(){this._tipAmountPerPerson.innerText="$0.00",this._totalAmountPerPerson.innerText="$0.00",this._resetButton.classList.add("disabled")}addHandlerResetResult=function(t){this._resetButton.addEventListener("click",s=>{this._clearResults(),t()})};_updateDisplay(t){this._tipAmountPerPerson.innerText=`$${t.results.tipsPerson}`,this._totalAmountPerPerson.innerText=`$${t.results.totalPerson}`,t.isActive?this._resetButton.classList.remove("disabled"):this._resetButton.classList.add("disabled")}addHandlerShowResults=function(t){this._tipsInputs.forEach(s=>{s.addEventListener("click",s=>{let e=t();this._updateDisplay(e)})})};addHandlerShowResultsCustom=function(t){this._customTipsInput.addEventListener("input",s=>{let e=t();this._updateDisplay(e)})}}var p=new a;const d=function(s){l(s),u.showError(t.errors)},c=function(){return i(t),t};u.addHandlerBillData(d),u.addHandlerBillDataCustomTips(d),p.addHandlerShowResults(c),p.addHandlerShowResultsCustom(c),p.addHandlerResetResult(function(){u.clearInputs(),s({bill:{},isActive:!1,errors:{},results:{}})});
//# sourceMappingURL=index.cc2bfca0.js.map
